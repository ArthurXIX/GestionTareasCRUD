<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Tablero de Tareas</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
  <!-- Iconos de Bootstrap (opcional, para usar <i class="bi ..."></i>) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />

  <style>
    /* Kanban layout */
    .kanban-board {
      display: flex;
      gap: 1rem;
      overflow-x: auto;
      /* Scroll horizontal en móviles si no cabe */
    }

    .kanban-column {
      flex: 1;
      min-width: 300px;
      background: #f8f9fa;
      border-radius: 0.25rem;
      padding: 1rem;
      height: calc(100vh - 190px);
      /* Ajusta según tu preferencia */
      overflow-y: auto;
    }

    .kanban-column h2 {
      font-size: 1.2rem;
      margin-bottom: 1rem;
    }

    .task-card {
      margin-bottom: 1rem;
      cursor: grab;
      /* Indicador de draggable */
    }

    /* Etiquetas de prioridad */
    .priority-tag {
      padding: 0.2rem 0.5rem;
      border-radius: 0.25rem;
      font-size: 0.8rem;
      font-weight: 600;
      color: #fff;
      margin-left: 0.5rem;
    }

    .priority-high {
      background-color: #dc3545;
      /* rojo */
    }

    .priority-medium {
      background-color: #ffc107;
      /* amarillo */
      color: #000;
    }

    .priority-low {
      background-color: #198754;
      /* verde */
    }

    /* Pequeño ajuste para la barra de búsqueda en móviles */
    @media (max-width: 576px) {
      .search-bar {
        margin-top: 1rem;
      }
    }
  </style>
</head>

<body class="bg-light">

  <div class="container py-4">
    <!-- Encabezado con título, botón nueva tarea y búsqueda -->
    <div class="d-flex flex-wrap justify-content-between align-items-center mb-3">
      <h1 class="h4 me-3">Tablero de Tareas</h1>

      <!-- Filtro/búsqueda -->
      <div class="search-bar d-flex align-items-center">
        <input type="text" class="form-control" id="searchInput" placeholder="Buscar tarea..."
          style="max-width: 200px;" />
      </div>

      <!-- Botón para abrir el modal de nueva tarea -->
      <button class="btn btn-primary ms-3" data-bs-toggle="modal" data-bs-target="#taskModal"
        onclick="openCreateModal()">
        <i class="bi bi-plus"></i> Nueva Tarea
      </button>
    </div>

    <!-- Kanban Board con 3 columnas -->
    <div class="kanban-board">
      <!-- Columna: Por Hacer -->
      <div class="kanban-column" id="column-por-hacer">
        <h2>Por Hacer</h2>
        <div id="todo-tasks-container"></div>
      </div>
      <!-- Columna: En Curso -->
      <div class="kanban-column" id="column-en-curso">
        <h2>En Curso</h2>
        <div id="inprogress-tasks-container"></div>
      </div>
      <!-- Columna: Completadas -->
      <div class="kanban-column" id="column-completadas">
        <h2>Completadas</h2>
        <div id="done-tasks-container"></div>
      </div>
    </div>
  </div>

  <!-- Modal para Crear/Editar Tarea -->
  <div class="modal fade" id="taskModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <form class="modal-content" id="task-form">
        <div class="modal-header">
          <h5 class="modal-title" id="modalTitle">Crear Tarea</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label for="taskTitle" class="form-label">Título *</label>
            <input type="text" class="form-control" id="taskTitle" required />
          </div>
          <div class="mb-3">
            <label for="taskDescription" class="form-label">Descripción</label>
            <textarea class="form-control" id="taskDescription"></textarea>
          </div>
          <div class="mb-3">
            <label for="taskState" class="form-label">Estado</label>
            <select class="form-select" id="taskState">
              <option value="Por Hacer">Por Hacer</option>
              <option value="En Curso">En Curso</option>
              <option value="Completada">Completada</option>
            </select>
          </div>
          <!-- Campo para la prioridad -->
          <div class="mb-3">
            <label for="taskPriority" class="form-label">Prioridad</label>
            <select class="form-select" id="taskPriority">
              <option value="High">Alta</option>
              <option value="Medium" selected>Mediana</option>
              <option value="Low">Baja</option>
            </select>
          </div>
          <!-- Ejemplo: fechas (si usas) -->
          <div class="mb-3">
            <label for="taskFechaRegistro" class="form-label">Fecha de Registro</label>
            <input type="date" class="form-control" id="taskFechaRegistro" />
          </div>
          <div class="mb-3">
            <label for="taskFechaFinEstimada" class="form-label">Fecha de Fin Estimada</label>
            <input type="date" class="form-control" id="taskFechaFinEstimada" />
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button type="submit" class="btn btn-primary">Guardar</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Bootstrap JS (para modales) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <!-- SweetAlert2 (para notificaciones) -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <!-- SortableJS (Drag & Drop) -->
  <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>

  <!-- Nuestro archivo principal de lógica -->
  <script src="app.js"></script>

</body>

</html>